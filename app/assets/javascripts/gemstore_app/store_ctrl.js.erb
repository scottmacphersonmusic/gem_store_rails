(function() {
  var app = angular.module('gemStore', []);

  app.controller('StoreController', ['$scope', '$http', function($scope, $http){
    $scope.products = [];
    $scope.errors = [];

    $scope.index = function() {
      $http.get( "/products" )
        .success(function(data) {

          console.log(data.data);

          $scope.products = data.data;
        })
        .error(function(data) {
          $scope.errors.push(data);
          console.log(data);
          console.log(status);
        });
    };
  }]);
})();
